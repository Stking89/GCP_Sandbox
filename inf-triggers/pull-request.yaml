steps:

# Authenticate with Google Cloud
- name: 'gcr.io/cloud-builders/gcloud'
  args:
  - auth
  - configure-docker

# Pull the Terraform image
- name: 'gcr.io/cloud-builders/docker'
  args:
  - pull
  - hashicorp/terraform:latest  # Replace with desired version if needed

# Run Terraform commands
- name: 'hashicorp/terraform'
  args:
  - init
  - plan